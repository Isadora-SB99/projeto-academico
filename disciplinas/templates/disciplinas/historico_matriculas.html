{% extends 'academico/base.html' %}

{% block content %}
<div class="container mt-4">
  <h2 class="bg-primary text-white text-center rounded shadow py-2">Histórico de Matrículas</h2>

  <table class="table table-striped table-bordered my-3">
    <thead class="table-primary">
      <tr>
        <th>Aluno</th>
        <th>Curso</th>
        <th>Data da Matrícula</th>
        <th>Disciplina</th>
      </tr>
    </thead>
    <tbody>
      {% for matricula in matriculas %}
        {% for disciplina in matricula.disciplinas.all %}
          <tr>
            <td>{{ matricula.aluno.nome }}</td>
            <td>{{ matricula.aluno.curso.nome }}</td>
            <td>{{ matricula.data }}</td>
            <td>{{ disciplina.nome }}</td>
          </tr>
        {% endfor %}
      {% empty %}
        <tr>
          <td colspan="4">Nenhuma matrícula registrada.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
